<div class="o_control_panel">
    <ol class="breadcrumb">
        <li class="active">Khách hàng</li>
    </ol>
    <div class="o_cp_searchview">
        <div class="o_searchview">
            <!-- <input type="text" class="o_searchview_input" placeholder="Theo mã, tên hoặc số điện thoại"
                [(ngModel)]="search" (ngModelChange)="this.searchUpdate.next($event)" /> -->
        </div>
    </div>
    <div class="o_cp_left">
        <div class="o_cp_buttons">
            <div class="o_form_buttons_view">
                <button type="button" accesskey="c" class="btn btn-primary btn-sm" (click)="createItem()">Thêm</button>
                <button type="button" class="btn btn-secondary btn-sm" (click)="importFromExcel()">Import</button>
                <button type="button" class="btn btn-secondary btn-sm" (click)="exportPartnerExcelFile()"><i
                        class="fas fa-download"></i>&nbsp;Xuất file Excel</button>
                <button type="button" class="btn btn-secondary btn-sm" (click)="updateFromExcel()">Cập nhật
                    Excel</button>
            </div>
        </div>
        <div class="o_cp_sidebar">
        </div>
    </div>
    <div class="o_cp_right">

    </div>
</div>

<div class="o_content">
    <kendo-grid [data]="gridView" [pageSize]="pageSize" [skip]="skip" [pageable]="true" [height]="400" (pageChange)="pageChange($event)">
        <kendo-grid-column title="Thao tác" [width]="150" [locked]="true">
            <ng-template kendoGridCellTemplate let-dataItem>
                <button class="btn btn-success btn-sm mr-2" title="Sửa" (click)="editItem(dataItem)">
                    <i class="far fa-edit"></i>
                </button>
                <button class="btn btn-danger btn-sm" title="Xóa" (click)="deleteItem(dataItem)">
                    <i class="far fa-trash-alt"></i>
                </button>
            </ng-template>
            
        </kendo-grid-column>
        <kendo-grid-column field="name" title="Họ tên" [width]="150" [locked]="true">
            <ng-template kendoGridCellTemplate let-dataItem>
                <a class="text-primary" title="Xem hồ sơ khách hàng" [routerLink]="['/partners/customer/'+dataItem.Id]">
                    <span *ngIf="dataItem.ref">[{{dataItem.ref}}]</span>
                    {{dataItem.name}}
                </a>
            </ng-template>
            
        </kendo-grid-column>
        <kendo-grid-column field="ref" title="Mã KH" [width]="150" [locked]="true"></kendo-grid-column>
        <kendo-grid-column field="age" title="Tuổi" [width]="150" [locked]="true"></kendo-grid-column>
        <kendo-grid-column field="phone" title="Điện thoại" [width]="150" [locked]="true"></kendo-grid-column>
        <kendo-grid-column field="gender" title="Giới tính" [width]="150">
            <ng-template kendoGridCellTemplate let-dataItem>
                {{getGender(dataItem.gender)}}
            </ng-template>
            
        </kendo-grid-column>
        <kendo-grid-column field="address" title="Địa chỉ" [width]="150"></kendo-grid-column>
        <kendo-grid-column field="ref" title="Nhãn" [width]="150"></kendo-grid-column>
        <kendo-grid-column title="Ngày sinh" [width]="150">
            <ng-template kendoGridCellTemplate let-dataItem>
                {{dataItem.birthDay}}/{{dataItem.birthMonth}}/{{dataItem.birthYear}}
            </ng-template>
            
        </kendo-grid-column>
        <kendo-grid-column field="ref" title="Ngày tạo" [width]="150">
            <ng-template kendoGridCellTemplate let-dataItem>
                {{dataItem.dateCreated | date: 'shortDate'}}
            </ng-template>
        </kendo-grid-column>
        <kendo-grid-column field="source" title="Nguồn" [width]="150"></kendo-grid-column>
        <kendo-grid-column field="jobTitle" title="Nghề nghiệp" [width]="150"></kendo-grid-column>
        <kendo-grid-column field="email" title="Email" [width]="150"></kendo-grid-column>
        <kendo-grid-column field="comment" title="Ghi chú" [width]="150"></kendo-grid-column>
      </kendo-grid>
</div>
